<h2>Analytics {{routeParams.profile}}</h2>

<section class="year">
  <h4>Year</h4>
  <ul>
    <li ng-repeat="month in analytics.yearArr">
      {{$index}}: {{getTotal(analytics.yearArr[$index], events)}}
      <ul>
        <li ng-repeat="event in events">
          {{event}}: {{analytics.yearArr[$parent.$index][event]}}
        </li>
      </ul>
    </li>
  </ul>
</section>

<section class="week">
<h4>Week</h4>
  <ul>
    <li ng-repeat="day in analytics.weekArr">
      {{$index}}: {{getTotal(analytics.weekArr[$index], events)}}
      <ul>
        <li ng-repeat="event in events">
          {{event}}: {{analytics.weekArr[$parent.$index][event]}}
        </li>
      </ul>
    </li>
  </ul>
</section>

<section class="day">
  <h4>Day</h4>
  <ul>
    <li ng-repeat="hour in analytics.dayArr">
      {{$index}}: {{getTotal(analytics.dayArr[$index], events)}}
      <ul>
        <li ng-repeat="event in events">
          {{event}}: {{analytics.dayArr[$parent.$index][event]}}
        </li>
      </ul>
    </li>
  </ul>
</section>


<!-- <section class="weekhours">
  <h4>WeekDays {{max}}</h4>
  <ul>
    <li ng-repeat="day in analytics.weekhoursArr">
      {{$index}}
      <ul>
        <li ng-repeat="hour in day">
          {{$index}}: {{getTotal(hour, events)}} = {{getTotal(hour, events) / max}}
          <ul>
            <li ng-repeat="event in events">
              {{event}}: {{day[$parent.$index][event]}}
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</section> -->

<table class="table table-condensed">
  <caption>weekhours</caption>
  <thead>
    <tr>
      <th>Day</th>
      <th ng-repeat="hour in dayHours">
        {{hour}}
      </th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="day in analytics.weekhoursArr">
      <td>{{$index}}</td>
      <td ng-repeat="hour in day" ng-class="getContributionClass(getTotal(hour, events))">
        {{getTotal(hour, events)}}
        <!-- {{getTotal(hour, events) / max}} -->
      </td>
    </tr>
  </tbody>
</table>
